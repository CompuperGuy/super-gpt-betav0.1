<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Chatbot</title>
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chat-container::-webkit-scrollbar { width: 6px; }
        .chat-container::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .user-msg { background: #2563eb; align-self: flex-end; border-bottom-right-radius: 4px; }
        .ai-msg { background: #1e293b; align-self: flex-start; border-bottom-left-radius: 4px; border: 1px solid #334155; }
    </style>
</head>
<body class="bg-[#0f172a] text-slate-100 flex flex-col h-screen overflow-hidden">

    <header class="p-4 border-b border-slate-800 bg-[#0f172a]/80 backdrop-blur-md flex justify-between items-center z-10">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center font-bold">N</div>
            <span class="font-semibold tracking-tight">Neural Engine v1.0</span>
        </div>
        <div id="status" class="text-[10px] uppercase tracking-widest text-yellow-500 animate-pulse">Neural Engine Booting...</div>
    </header>

    <div id="chat-box" class="flex-1 overflow-y-auto p-4 md:p-8 flex flex-col gap-4 chat-container">
        <div class="ai-msg p-4 rounded-2xl max-w-[80%] text-sm shadow-lg">
            Hello! I am loading my neural weights from <b>unigram_freq.csv</b>. Please wait a moment before typing.
        </div>
    </div>

    <div class="p-4 md:p-8 bg-gradient-to-t from-[#0f172a] via-[#0f172a] to-transparent">
        <div class="max-w-4xl mx-auto flex gap-2 relative">
            <input type="text" id="user-input" 
                   class="w-full bg-[#1e293b] border border-slate-700 rounded-xl px-5 py-4 focus:outline-none focus:ring-2 focus:ring-blue-500 transition shadow-2xl"
                   placeholder="Type a message..." onkeypress="if(event.key === 'Enter') document.getElementById('send-btn').click()">
            <button id="send-btn" py-click="process_message" 
                    class="bg-blue-600 hover:bg-blue-700 px-6 rounded-xl font-bold transition flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                </svg>
            </button>
        </div>
        <p class="text-center text-[10px] text-slate-500 mt-3">Neural Network: MLPClassifier â€¢ Dataset: unigram_freq.csv</p>
    </div>

    <script type="py" src="./main.py" config="./pyscript.json"></script>
</body>
</html>
